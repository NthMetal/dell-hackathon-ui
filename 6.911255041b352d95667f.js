(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"ct+p":function(t,e,n){"use strict";n.r(e),n.d(e,"HomeModule",function(){return v});var a=n("ofXK"),c=n("tyNb"),r=n("a0Xn"),i=n("6n/F"),o=n("M8aS"),s=n.n(o),b=n("fXoL"),u=n("jr3z"),l=n("Wp6s"),p=n("bTqV");function h(t,e){if(1&t&&(b.Rb(0),b.Ob(1,"div",4),b.Qb()),2&t){const t=b.ec();b.Cb(1),b.kc("chart",t.chart)}}const d=function(){return["/oxygensupply"]},f=function(){return["/hospital"]};s()(i);const y=[{path:"",component:(()=>{class t{constructor(t){this.tweetDataService=t,this.currentPage="/"}ngOnInit(){this.tweetDataService.getTweetDataSubject().subscribe(t=>{let e="50%",n="300%";1===t.length&&(n="100%",e="10%"),2===t.length&&(n="150%",e="10%"),this.setPackedBubbleData(t,e,n)})}initChart(t="50%",e="300%"){this.chart&&this.chart.destroy(),this.chart=new r.a({chart:{type:"packedbubble"},title:{text:"Untitled"},credits:{enabled:!1},tooltip:{useHTML:!0,pointFormat:"<b>{point.name}:</b> {point.value} tweets"},plotOptions:{packedbubble:{minSize:t,maxSize:e,layoutAlgorithm:{splitSeries:"",gravitationalConstant:.02},dataLabels:{enabled:!0,format:"{point.name}",filter:{property:"y",operator:">",value:250},style:{color:"black",textOutline:"none",fontWeight:"normal"}}}},series:[]})}setPackedBubbleData(t,e,n){this.initChart(e,n);const a=t.reduce((t,e)=>{const n=e.tweet_cityname,a=t.find(t=>t.city===n);return a?a.tweets.push(e):t.push({city:n,tweets:[e]}),t},[]),c=[];a.forEach(t=>{c.push({name:t.city,type:"packedbubble",data:[{name:t.city,value:t.tweets.length}]})}),c.sort((t,e)=>e.data[0].value-t.data[0].value).slice(0,10).forEach(t=>this.chart.addSeries(t,!0,!0))}}return t.\u0275fac=function(e){return new(e||t)(b.Nb(u.a))},t.\u0275cmp=b.Hb({type:t,selectors:[["app-home"]],decls:8,vars:5,consts:[[4,"ngIf"],[1,"row","justify-content-around"],[1,"col-3"],["mat-button","",3,"routerLink"],[3,"chart"]],template:function(t,e){1&t&&(b.xc(0,h,2,1,"ng-container",0),b.Tb(1,"div",1),b.Tb(2,"mat-card",2),b.Tb(3,"button",3),b.yc(4,"Oxygen Supply"),b.Sb(),b.Sb(),b.Tb(5,"mat-card",2),b.Tb(6,"button",3),b.yc(7,"Hospital"),b.Sb(),b.Sb(),b.Sb()),2&t&&(b.kc("ngIf",e.chart),b.Cb(3),b.kc("routerLink",b.lc(3,d)),b.Cb(3),b.kc("routerLink",b.lc(4,f)))},directives:[a.m,l.a,p.a,c.a,r.b],styles:[""]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({imports:[[c.b.forChild(y)],c.b]}),t})();var w=n("vvyD");let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=b.Lb({type:t}),t.\u0275inj=b.Kb({imports:[[a.c,m,r.c,w.a]]}),t})()}}]);